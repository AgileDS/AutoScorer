(this["webpackJsonpautoscorer-client"]=this["webpackJsonpautoscorer-client"]||[]).push([[0],{199:function(e,t,a){e.exports=a(343)},204:function(e,t,a){},205:function(e,t,a){},336:function(e,t){},337:function(e,t){},338:function(e,t){},339:function(e,t){},340:function(e,t){},341:function(e,t){},343:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(52),s=a.n(i),o=(a(204),a(26)),l=a(27),c=a(30),u=a(28),h=a(29),d=(a(205),a(66)),p=a(55),m=a(45),g=a(23),f=a(88),v=a(57),b=a.n(v),E=a(86),w=a(89),y=a.n(w),k={TOKEN:"AutoScorer-Token"},O="https://fierce-citadel-47273.herokuapp.com";console.log("server url:",O,"production",Object({NODE_ENV:"production",PUBLIC_URL:"/AutoScorer"}).MY_API_URL),O+="/api";var S={};function C(){return(C=Object(E.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("lolw",t,O),e.prev=1,e.next=4,y.a.post(O+"/api-token-auth/",t,{headers:S});case 4:if(200!==(a=e.sent).status||!a.data.token){e.next=9;break}return console.log(a),localStorage.setItem(k.TOKEN,a.data.token),e.abrupt("return",!0);case 9:return console.log("Response not ok",a),e.abrupt("return",!1);case 13:return e.prev=13,e.t0=e.catch(1),console.log("error",e.t0),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function T(){return(T=Object(E.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.post(O+"/create-user/",t,{headers:S});case 3:if(!(a=e.sent).data.token){e.next=10;break}return console.log("registerReq",a),localStorage.setItem(k.TOKEN,a.data.token),e.abrupt("return",!0);case 10:if(!a.data.Error){e.next=12;break}return e.abrupt("return",a.data.Error);case 12:return console.log("Response not ok",a),e.abrupt("return",!1);case 16:return e.prev=16,e.t0=e.catch(0),console.log("error",e.t0),e.abrupt("return",!1);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}y.a.defaults.xsrfHeaderName="X-CSRFTOKEN",y.a.defaults.xsrfCookieName="csrftoken";var j=a(106),M=a(108),R=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){switch(e.target.name){case"username":a.setState({update_string:"Welcome back "+e.target.value})}a.setState(Object(m.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),console.log("A name was submitted: "+a.state.username),function(e){return C.apply(this,arguments)}({username:a.state.username,password:a.state.password}).then((function(e){console.log("LoginPage",e),!1===e?a.setState({server_error:"Username or password is incorrect"}):a.props.history.push("/dashboard")}))},a.state={username:"",password:"",update_string:"just to annoy you",server_error:""},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e;return this.state.server_error&&(e=r.a.createElement(M.a,{variant:"danger"}," ",this.state.server_error," ")),r.a.createElement("div",{align:"center"},r.a.createElement(j.a,null,r.a.createElement("h1",null,"Hello to your favourite AutoScorer!"),r.a.createElement("p",null," Sign in to get into your dashboard ")),r.a.createElement(g.a,{onSubmit:this.handleSubmit,align:"left",className:"mt-5",style:{maxWidth:"20em"}},r.a.createElement(g.a.Group,{controlId:"formBasicUsername"},r.a.createElement(g.a.Label,null,"Enter your username"),r.a.createElement(g.a.Control,{md:"auto",name:"username",type:"text",value:this.state.username,onChange:this.handleChange})),r.a.createElement(g.a.Group,{controlId:"formBasicPassword"},r.a.createElement(g.a.Label,null,"Password"),r.a.createElement(g.a.Control,{md:"auto",name:"password",type:"password",value:this.state.password,onChange:this.handleChange})),e,r.a.createElement("div",{align:"center",className:"mt-3 pt-3"},r.a.createElement(f.a,{variant:"primary",type:"submit"},"Log in"),r.a.createElement("br",null),r.a.createElement(d.b,{to:"/register"},"Don't have an account? Sign Up"))),r.a.createElement("br",null))}}]),t}(r.a.Component),x=Object(p.g)(R),D=function(e){var t=!0;return Object.values(e).forEach((function(e){return e.length>0&&(t=!1)})),t},B=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t;e.preventDefault();var n=e.target,r=n.name,i=n.value,s=a.state.errors;switch(r){case"username":s.username=i.length<4?"Username must be at least 4 characters long":"",s.start="";break;case"password":s.password=i.length<4?"Password must be at least 4 characters long":"";break;case"confirm_password":s.confirm_password=i!==a.state.password?"Password inputs must match":""}a.setState((t={},Object(m.a)(t,e.target.name,e.target.value),Object(m.a)(t,"errors",s),t))},a.handleSubmit=function(e){if(e.preventDefault(),!D(a.state.errors))return console.log("Submit not valid!"),void a.setState({server_error:"Please fill the form correctly"});console.log("A name was submitted: "+a.state.username),function(e){return T.apply(this,arguments)}({username:a.state.username,password:a.state.password,confirm_password:a.state.confirm_password}).then((function(e){console.log("RegisterPage",e),!1===e?a.setState({update_string:"There was error with your registration"}):"string"===typeof e?a.setState({server_error:e}):a.props.history.push("/dashboard")}))},a.state={username:"",password:"",confirm_password:"",errors:{start:"error",username:"",password:"",confirm_password:""},server_error:""},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e;return this.state.server_error&&(e=r.a.createElement(M.a,{variant:"danger"}," ",this.state.server_error," ")),r.a.createElement("div",{align:"center"},r.a.createElement(j.a,null,r.a.createElement("h1",null,"Hello to your favourite AutoScorer!"),r.a.createElement("p",null," Register to get into your dashboard ")),r.a.createElement(g.a,{onSubmit:this.handleSubmit,className:"mt-3",align:"left",style:{maxWidth:"20em"}},r.a.createElement("br",null),r.a.createElement(g.a.Group,{controlId:"formRegisterUsername"},r.a.createElement(g.a.Label,null,"Enter your username"),r.a.createElement(g.a.Control,{name:"username",type:"text",value:this.state.username,onChange:this.handleChange}),r.a.createElement("p",{className:"font-weight-light"}," ",this.state.errors.username," ")),r.a.createElement(g.a.Group,{controlId:"formRegisterPassword"},r.a.createElement(g.a.Label,null,"Your password"),r.a.createElement(g.a.Control,{name:"password",type:"password",value:this.state.password,onChange:this.handleChange}),r.a.createElement("p",{className:"font-weight-light"}," ",this.state.errors.password," "),r.a.createElement(g.a.Label,null,"Confirm your password"),r.a.createElement(g.a.Control,{name:"confirm_password",type:"password",value:this.state.confirm_password,onChange:this.handleChange}),r.a.createElement("p",{className:"font-weight-light"}," ",this.state.errors.confirm_password," ")),e,r.a.createElement("div",{align:"center",className:"mt-3 pt-3 btn-block"},r.a.createElement(f.a,{className:"col-md-8",variant:"primary",type:"submit"},"Register"),r.a.createElement(d.b,{to:"/login"},r.a.createElement(f.a,{className:"col-md-4 text-right",align:"right",variant:"link"},"Log in"))),r.a.createElement("br",null)),r.a.createElement("br",null))}}]),t}(r.a.Component),I=Object(p.g)(B),_=a(33),P=a(58),G=a(198),N=a(56),U=a(21),A=a.n(U),L=a(19),z=a(37),X=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).hasNullBrush=function(){return(a.props.timeRanges||[]).length>0&&null==a.props.timeRanges[a.props.timeRanges.length-1]},a.handleMouseClick=function(e,t){a.props.onTimeRangeClicked&&a.props.onTimeRangeClicked(t)},a.state={isBrushing:!1},a.handleBrushMouseDown=a.handleBrushMouseDown.bind(Object(N.a)(a)),a.handleOverlayMouseDown=a.handleOverlayMouseDown.bind(Object(N.a)(a)),a.handleHandleMouseDown=a.handleHandleMouseDown.bind(Object(N.a)(a)),a.handleMouseUp=a.handleMouseUp.bind(Object(N.a)(a)),a.handleMouseMove=a.handleMouseMove.bind(Object(N.a)(a)),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"viewport",value:function(){var e=this.props,t=e.width,a=e.timeScale,n=a.invert(0),r=a.invert(t);return new L.TimeRange(n,r)}},{key:"handleBrushMouseDown",value:function(e,t){e.preventDefault();var a=e.pageX,n=e.pageY,r=[Math.round(a),Math.round(n)],i=+this.props.timeRanges[t].begin(),s=+this.props.timeRanges[t].end();document.addEventListener("mouseup",this.handleMouseUp),this.setState({isBrushing:!0,brushingInitializationSite:"brush",initialBrushBeginTime:i,initialBrushEndTime:s,initialBrushXYPosition:r,brushIndex:t})}},{key:"handleOverlayMouseDown",value:function(e){if(this.props.allowFreeDrawing||this.hasNullBrush()){e.preventDefault();var t=Object(z.getElementOffset)(this.overlay),a=e.pageX-t.left,n=this.props.timeScale.invert(a).getTime();document.addEventListener("mouseup",this.handleMouseUp);var r=this.props.allowFreeDrawing?this.props.timeRanges.length:this.props.timeRanges.length-1;this.setState({isBrushing:!0,brushingInitializationSite:"overlay",initialBrushBeginTime:n,initialBrushEndTime:n,initialBrushXYPosition:null,brushIndex:r})}}},{key:"handleHandleMouseDown",value:function(e,t,a){e.preventDefault();var n=e.pageX,r=e.pageY,i=[Math.round(n),Math.round(r)],s=this.props.timeRanges[a].begin().getTime(),o=this.props.timeRanges[a].end().getTime();document.addEventListener("mouseover",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp),this.setState({isBrushing:!0,brushingInitializationSite:"handle-".concat(t),initialBrushBeginTime:s,initialBrushEndTime:o,initialBrushXYPosition:i,brushIndex:a})}},{key:"handleMouseUp",value:function(e){var t=this;e.preventDefault(),document.removeEventListener("mouseover",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp);var a=this.state.brushIndex;this.setState({isBrushing:!1,brushingInitializationSite:null,initialBrushBeginTime:null,initialBrushEndTime:null,initialBrushXYPosition:null,brushIndex:null},(function(){t.props.onUserMouseUp&&t.props.onUserMouseUp(a)}))}},{key:"handleMouseMove",value:function(e){e.preventDefault();var t=e.pageX,a=e.pageY,n=[Math.round(t),Math.round(a)],r=this.viewport();if(this.state.isBrushing){var i,s,o=this.state.initialBrushBeginTime,l=this.state.initialBrushEndTime;if("overlay"===this.state.brushingInitializationSite){var c=Object(z.getElementOffset)(this.overlay),u=e.pageX-c.left,h=this.props.timeScale.invert(u).getTime();h<o?(i=h<r.begin().getTime()?r.begin():h,s=o>r.end().getTime()?r.end():o):(i=o<r.begin().getTime()?r.begin():o,s=h>r.end().getTime()?r.end():h)}else{var d=this.state.initialBrushXYPosition,p=this.props.timeScale.invert(d[0]).getTime()-this.props.timeScale.invert(n[0]).getTime(),m=p,g=p;if(o-p<r.begin()&&(m=o-r.begin().getTime()),l-p>r.end()&&(g=l-r.end().getTime()),(i="brush"===this.state.brushingInitializationSite||"handle-left"===this.state.brushingInitializationSite?parseInt(o-m,10):o)>(s="brush"===this.state.brushingInitializationSite||"handle-right"===this.state.brushingInitializationSite?parseInt(l-g,10):l)){var f=[s,i];i=f[0],s=f[1]}}this.props.onTimeRangeChanged&&this.props.onTimeRangeChanged(new L.TimeRange(i,s),this.state.brushIndex)}}},{key:"renderOverlay",value:function(){var e,t=this,a=this.props,n=a.width,i=a.height;switch(this.state.brushingInitializationSite){case"handle-right":case"handle-left":e="ew-resize";break;case"brush":e="move";break;default:e=this.props.allowFreeDrawing||this.hasNullBrush()?"crosshair":"default"}var s={fill:"white",opacity:0,cursor:e};return r.a.createElement("rect",{ref:function(e){t.overlay=e},x:0,y:0,width:n,height:i,style:s,onClick:this.handleMouseClick,onMouseDown:this.handleOverlayMouseDown,onMouseUp:this.handleMouseUp})}},{key:"renderBrush",value:function(e,t){var a,n=this,i=this.props,s=i.timeScale,o=i.height;if(!e)return r.a.createElement("g",null);switch(this.state.brushingInitializationSite){case"handle-right":case"handle-left":a="ew-resize";break;case"overlay":a=this.props.allowFreeDrawing||this.hasNullBrush()?"crosshair":"default";break;default:a="move"}var l={fill:"#777",fillOpacity:.3,stroke:"#fff",shapeRendering:"crispEdges",cursor:a},c=this.props.style?this.props.style(t):{},u=A()(!0,l,c),h=this.props.text?this.props.text(t):"",d=this.props.textStyle?this.props.textStyle(t):{};if(!this.viewport().disjoint(e)){var p=e.intersection(this.viewport()),m=p.begin(),g=p.end(),f=[s(m),0],v=f[0],b=f[1],E=s(g)-v;E<1&&(E=1);var w={x:v,y:b,width:E,height:o};return r.a.createElement("g",{key:"".concat(t,"-").concat(u,"-").concat(h),pointerEvents:"all",onClick:function(e){return n.handleMouseClick(e,t)},onMouseDown:function(e){return n.handleBrushMouseDown(e,t)},onMouseUp:this.handleMouseUp},r.a.createElement("rect",Object.assign({},w,{style:u})),r.a.createElement("text",Object.assign({},d,{x:w.x+w.width/2-24,y:w.y+w.height/2+24}),h))}return r.a.createElement("g",null)}},{key:"renderHandles",value:function(e,t){var a=this,n=this.props,i=n.timeScale,s=n.height;if(!e)return r.a.createElement("g",null);var o={fill:"white",opacity:0,cursor:"ew-resize"};if(!this.viewport().disjoint(e)){var l=e.intersection(this.viewport()).toJSON(),c=Object(G.a)(l,2),u=c[0],h=c[1],d=[i(u),0],p=d[0],m=d[1],g=i(h)-p;g<1&&(g=1);var f=this.props.handleSize,v={x:p-1,y:m,width:f,height:s},b={x:p+(g-f),y:m,width:f+1,height:s};return r.a.createElement("g",null,r.a.createElement("rect",Object.assign({},v,{style:o,pointerEvents:"all",onMouseDown:function(e){return a.handleHandleMouseDown(e,"left",t)},onMouseUp:this.handleMouseUp})),r.a.createElement("rect",Object.assign({},b,{style:o,pointerEvents:"all",onMouseDown:function(e){return a.handleHandleMouseDown(e,"right",t)},onMouseUp:this.handleMouseUp})))}return r.a.createElement("g",null)}},{key:"render",value:function(){var e=this;return r.a.createElement("g",{onMouseMove:this.handleMouseMove},this.renderOverlay(),(this.props.timeRanges||[]).map((function(t,a){return r.a.createElement("g",{key:"multibrush_".concat(a)},e.renderBrush(t,a),e.renderHandles(t,a))})))}}]),t}(r.a.Component);X.defaultProps={handleSize:6,allowFreeDrawing:!0};var F=Object(P.styler)([{key:"in",color:"#C8D5B8"},{key:"out",color:"#9BB8D7"}]),Y=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=(this.props.tracker&&"".concat(this.props.tracker),Object(_.format)(".4s"));return r.a.createElement("div",null,r.a.createElement("hr",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},this.props.tracker?r.a.createElement("div",{style:{position:"relative"}},r.a.createElement("div",{style:{position:"absolute",left:this.props.trackerX}},r.a.createElement("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.8)",color:"#AAA",marginLeft:"5px"}},"Data In: ",t(this.props.trackerEventIn.get("in"))))):null,r.a.createElement(P.Resizable,null,r.a.createElement(P.ChartContainer,{timeRange:this.props.timerange,format:"year",trackerPosition:this.props.tracker,onTrackerChanged:this.props.handleTrackerChanged,enablePanZoom:!1,maxTime:this.props.timerange.end(),minTime:this.props.timerange.begin(),minDuration:36e5,onBackgroundClick:this.props.onBackgroundClick,onTimeRangeChanged:this.props.handleTimeRangeChange},r.a.createElement(P.ChartRow,{height:"250",debug:!1},r.a.createElement(P.Charts,null,r.a.createElement(P.LineChart,{axis:"traffic",series:this.props.data,columns:["in"],style:F}),r.a.createElement(X,{timeRanges:this.props.selections,style:function(t){return t===e.props.selected?{fill:"#46abff"}:{fill:"#cccccc"}},text:function(t){return e.props.getText?e.props.getText(t):""},textStyle:function(t){return e.props.getTextStyle?e.props.getTextStyle(t):{}},allowSelectionClear:!0,onTimeRangeChanged:this.props.handleSelectionChange,onTimeRangeClicked:this.props.onTimeRangeClicked})),r.a.createElement(P.YAxis,{id:"traffic",label:"Traffic (bps)",labelOffset:0,min:this.props.minSignal,max:this.props.maxSignal,absolute:!0,width:"60",type:"linear"})))))))}}]),t}(r.a.Component),H=a(67),W=a.n(H),q=a(150);function K(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function J(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?K(a,!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var V=3,Z=1,$=10,Q={0:"W",1:"NR",2:"R"},ee={w:"W",e:"NR",r:"R",W:"W",E:"NR",R:"R"};function te(e,t){return ae.apply(this,arguments)}function ae(){return(ae=Object(E.a)(b.a.mark((function e(t,a){var n,r,i,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e){return q.b(e,[1,5e3,2],"float32")}(a),r=t.predict(n).dataSync(),i=Array.from(r),s=Q[i.indexOf(W.a.max(i))],e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ne=function(e,t,a){var n=Math.floor((t-e)/a);return Array.apply(null,Array(a+1)).map((function(r,i){var s=parseInt(e+i*n),o=parseInt(e+(i+1)*n);return i===a?new L.TimeRange(s,t):new L.TimeRange(s,o)}))},re=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).getText=function(e){return null!=a.state.qualifications[e+a.state.offsetData]?a.state.qualifications[e+a.state.offsetData]:e===a.state.selected?a.state.prediction:void 0},a.getTextStyle=function(e){return null!=a.state.qualifications[e+a.state.offsetData]?{fill:"#0057c2",fontSize:48}:e===a.state.selected?{fill:"#bf9300",fontSize:48}:void 0},a.handleTrackerChanged=function(e,t){a.setState({tracker:e,trackerEventIn_EEG:e&&a.state.EEG.at(a.state.EEG.bisect(e)),trackerEventIn_EMG:e&&a.state.EMG.at(a.state.EMG.bisect(e)),trackerEventOut_EEG:e&&a.state.EEG.at(a.state.EEG.bisect(e)),trackerEventOut_EMG:e&&a.state.EMG.at(a.state.EMG.bisect(e)),trackerX:e&&t(e)})},a.handleTimeRangeChange=function(e){a.setState({timerange:e})},a.handleSelectionChange=function(e,t){},a.onBackgroundClick=function(){a.setState({selection:null,prediction:null})},a.onTimeRangeClicked=function(e){var t=e%V;a.getPrediction(a.state.offsetData+t).then((function(e){a.setState({selected:t,prediction:e})}))},a.getPrediction=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=a.props.edf.getPhysicalSignalConcatRecords(0,e*$,$),r=a.props.edf.getPhysicalSignalConcatRecords(1,e*$,$),i=Array.from(n).concat(Array.from(r));return t||(t=a.state.model),te(t,Float32Array.from(i))},a.edfParser=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=a.props.edf;if(t){var n=t.getNumberOfRecords(),r=(t.getRawSignal(0,0).length,t.getRawSignal(0,n-1).length,t.getRecordDuration()),i=t.getRecordingStartDate().getTime(),s=t.getPhysicalSignalConcatRecords(0,e*$,V*$),o=1,l=(W.a.map(s.slice(0,10),(function(t,a){return i+o*(a+e*$)*r*1e3})),new L.TimeSeries({name:"EEG",columns:["time","in"],points:W.a.map(s,(function(t,a){return[parseInt(i+o*(a+e*$)*r*100),t]}))})),c=t.getPhysicalSignalConcatRecords(1,e*$,V*$),u=new L.TimeSeries({name:"EMG",columns:["time","in"],points:W.a.map(c,(function(t,a){return[parseInt(i+o*(a+e*$)*r*100),t]}))}),h=ne(l.timerange().toJSON()[0],l.timerange().toJSON()[1],V);return[l,u,h]}},a._handleKeyDown=function(e){var t=a.state.selected,n=a.state.offsetData,r=e.key,i=a.state.qualifications;switch(-1!==Object.keys(ee).indexOf(r)?(i=J({},i,Object(m.a)({},n+t,ee[e.key])),r="ArrowRight"):" "==r&&(i=J({},i,Object(m.a)({},n+t,a.state.prediction)),r="ArrowRight"),r){case"PageUp":n+=V;break;case"PageDown":n=n-V>0?n-V:0;break;case"ArrowRight":t<Z?t+=1:n+=1;break;case"ArrowLeft":n>0?n-=1:t>0&&(t-=1)}if(n!=a.state.offsetData){var s=a.edfParser(n),o=s[0],l=s[1],c=s[2];a.getPrediction(n+t).then((function(e){a.setState({EEG:o,EMG:l,offsetData:n,selected:t,timerange:o.range(),selections:c,qualifications:i,prediction:e})}))}else a.getPrediction(n+t).then((function(e){a.setState({selected:t,qualifications:i,prediction:e})}))},a.state={EEG:null,EMG:null,offsetData:0,tracker:null,timerange:null,selected:0,selections:null,qualifications:{},prediction:null,trackerEventIn_EEG:null,trackerEventIn_EMG:null,trackerEventOut_EEG:null,trackerEventOut_EMG:null,trackerX:null},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",W.a.debounce(this._handleKeyDown,50))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",W.a.debounce(this._handleKeyDown,50))}},{key:"componentDidUpdate",value:function(e,t){var a=this;if(null!=this.props.edf&&e.edf!==this.props.edf){var n=this.edfParser(0),r=n[0],i=n[1],s=n[2];q.a("https://raw.githubusercontent.com/AgileDS/AutoScorer/model_dev/model/TF-js/1CNN-Model/model.json").then((function(e){a.getPrediction(0,e).then((function(t){a.setState({EEG:r,EMG:i,timerange:r.range(),selections:s,model:e,prediction:t})}))}))}}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.EEG?r.a.createElement(Y,{data:this.state.EEG,tracker:this.state.tracker,timerange:this.state.timerange,selected:this.state.selected,selections:this.state.selections,trackerEventIn:this.state.trackerEventIn_EEG,trackerEventOut:this.state.trackerEventIn_EEG,trackerX:this.state.trackerX,handleTrackerChanged:this.handleTrackerChanged,handleTimeRangeChange:this.handleTimeRangeChange,handleSelectionChange:this.handleSelectionChange,onBackgroundClick:this.onBackgroundClick,onTimeRangeClicked:this.onTimeRangeClicked,maxSignal:800,minSignal:-800,getText:this.getText,getTextStyle:this.getTextStyle}):null,this.state.EMG?r.a.createElement(Y,{data:this.state.EMG,tracker:this.state.tracker,timerange:this.state.timerange,selected:this.state.selected,selections:this.state.selections,trackerEventIn:this.state.trackerEventIn_EMG,trackerEventOut:this.state.trackerEventOut_EMG,trackerX:this.state.trackerX,handleTrackerChanged:this.handleTrackerChanged,handleTimeRangeChange:this.handleTimeRangeChange,handleSelectionChange:this.handleSelectionChange,onBackgroundClick:this.onBackgroundClick,onTimeRangeClicked:this.onTimeRangeClicked,maxSignal:6e3,minSignal:-6e3,getText:this.getText,getTextStyle:this.getTextStyle}):null)}}]),t}(r.a.Component),ie=(a(342),a(149)),se=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(e){return r.a.createElement("div",null,r.a.createElement("input",{type:"file",onChange:this.setFile.bind(this),accept:".edf"}))}},{key:"postFile",value:function(e){}},{key:"setFile",value:function(e){var t=this,a=e.target.files[0];new ie.EdfDecoder;if(null!=a){var n=new FileReader;n.onloadend=function(){var e=new ie.EdfDecoder,a=n.result;e.setInput(a),e.decode(),t.props.handleData(e.getOutput())},n.readAsArrayBuffer(a)}}}]),t}(r.a.Component),oe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={edf:null},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(d.a,{basename:"/"},r.a.createElement("div",null,r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/"},r.a.createElement(p.a,{to:"/login"})),r.a.createElement(p.b,{path:"/login"},r.a.createElement(x,null)),r.a.createElement(p.b,{path:"/dashboard"},this.state.edf?null:r.a.createElement(se,{handleData:function(t){e.setState({edf:t})}}),r.a.createElement(re,{edf:this.state.edf})),r.a.createElement(p.b,{path:"/register"},r.a.createElement(I,null)))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(oe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[199,1,2]]]);
//# sourceMappingURL=main.c26223a2.chunk.js.map