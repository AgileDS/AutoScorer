(this["webpackJsonpautoscorer-client"]=this["webpackJsonpautoscorer-client"]||[]).push([[0],{199:function(e,t,n){e.exports=n(343)},204:function(e,t,n){},205:function(e,t,n){},336:function(e,t){},337:function(e,t){},338:function(e,t){},339:function(e,t){},340:function(e,t){},341:function(e,t){},343:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(52),s=n.n(i),o=(n(204),n(26)),l=n(27),c=n(30),u=n(28),h=n(29),d=(n(205),n(66)),p=n(55),m=n(45),g=n(23),f=n(88),v=n(57),b=n.n(v),E=n(86),w=n(89),y=n.n(w),k={TOKEN:"AutoScorer-Token"},O="https://fierce-citadel-47273.herokuapp.com";console.log("server url:",O,"production",Object({NODE_ENV:"production",PUBLIC_URL:"/autoscorer"}).MY_API_URL),O+="/api";var S={};function C(){return(C=Object(E.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("lolw",t,O),e.prev=1,e.next=4,y.a.post(O+"/api-token-auth/",t,{headers:S});case 4:if(200!==(n=e.sent).status||!n.data.token){e.next=9;break}return console.log(n),localStorage.setItem(k.TOKEN,n.data.token),e.abrupt("return",!0);case 9:return console.log("Response not ok",n),e.abrupt("return",!1);case 13:return e.prev=13,e.t0=e.catch(1),console.log("error",e.t0),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function T(){return(T=Object(E.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.post(O+"/create-user/",t,{headers:S});case 3:if(!(n=e.sent).data.token){e.next=10;break}return console.log("registerReq",n),localStorage.setItem(k.TOKEN,n.data.token),e.abrupt("return",!0);case 10:if(!n.data.Error){e.next=12;break}return e.abrupt("return",n.data.Error);case 12:return console.log("Response not ok",n),e.abrupt("return",!1);case 16:return e.prev=16,e.t0=e.catch(0),console.log("error",e.t0),e.abrupt("return",!1);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}y.a.defaults.xsrfHeaderName="X-CSRFTOKEN",y.a.defaults.xsrfCookieName="csrftoken";var j=n(106),M=n(108),R=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){switch(e.target.name){case"username":n.setState({update_string:"Welcome back "+e.target.value})}n.setState(Object(m.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault(),console.log("A name was submitted: "+n.state.username),function(e){return C.apply(this,arguments)}({username:n.state.username,password:n.state.password}).then((function(e){console.log("LoginPage",e),!1===e?n.setState({server_error:"Username or password is incorrect"}):n.props.history.push("/dashboard")}))},n.state={username:"",password:"",update_string:"just to annoy you",server_error:""},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e;return this.state.server_error&&(e=r.a.createElement(M.a,{variant:"danger"}," ",this.state.server_error," ")),r.a.createElement("div",{align:"center"},r.a.createElement(j.a,null,r.a.createElement("h1",null,"Hello to your favourite AutoScorer!"),r.a.createElement("p",null," Sign in to get into your dashboard ")),r.a.createElement(g.a,{onSubmit:this.handleSubmit,align:"left",className:"mt-5",style:{maxWidth:"20em"}},r.a.createElement(g.a.Group,{controlId:"formBasicUsername"},r.a.createElement(g.a.Label,null,"Enter your username"),r.a.createElement(g.a.Control,{md:"auto",name:"username",type:"text",value:this.state.username,onChange:this.handleChange})),r.a.createElement(g.a.Group,{controlId:"formBasicPassword"},r.a.createElement(g.a.Label,null,"Password"),r.a.createElement(g.a.Control,{md:"auto",name:"password",type:"password",value:this.state.password,onChange:this.handleChange})),e,r.a.createElement("div",{align:"center",className:"mt-3 pt-3"},r.a.createElement(f.a,{variant:"primary",type:"submit"},"Log in"),r.a.createElement("br",null),r.a.createElement(d.b,{to:"/register"},"Don't have an account? Sign Up"))),r.a.createElement("br",null))}}]),t}(r.a.Component),x=Object(p.g)(R),D=function(e){var t=!0;return Object.values(e).forEach((function(e){return e.length>0&&(t=!1)})),t},B=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t;e.preventDefault();var a=e.target,r=a.name,i=a.value,s=n.state.errors;switch(r){case"username":s.username=i.length<4?"Username must be at least 4 characters long":"",s.start="";break;case"password":s.password=i.length<4?"Password must be at least 4 characters long":"";break;case"confirm_password":s.confirm_password=i!==n.state.password?"Password inputs must match":""}n.setState((t={},Object(m.a)(t,e.target.name,e.target.value),Object(m.a)(t,"errors",s),t))},n.handleSubmit=function(e){if(e.preventDefault(),!D(n.state.errors))return console.log("Submit not valid!"),void n.setState({server_error:"Please fill the form correctly"});console.log("A name was submitted: "+n.state.username),function(e){return T.apply(this,arguments)}({username:n.state.username,password:n.state.password,confirm_password:n.state.confirm_password}).then((function(e){console.log("RegisterPage",e),!1===e?n.setState({update_string:"There was error with your registration"}):"string"===typeof e?n.setState({server_error:e}):n.props.history.push("/dashboard")}))},n.state={username:"",password:"",confirm_password:"",errors:{start:"error",username:"",password:"",confirm_password:""},server_error:""},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e;return this.state.server_error&&(e=r.a.createElement(M.a,{variant:"danger"}," ",this.state.server_error," ")),r.a.createElement("div",{align:"center"},r.a.createElement(j.a,null,r.a.createElement("h1",null,"Hello to your favourite AutoScorer!"),r.a.createElement("p",null," Register to get into your dashboard ")),r.a.createElement(g.a,{onSubmit:this.handleSubmit,className:"mt-3",align:"left",style:{maxWidth:"20em"}},r.a.createElement("br",null),r.a.createElement(g.a.Group,{controlId:"formRegisterUsername"},r.a.createElement(g.a.Label,null,"Enter your username"),r.a.createElement(g.a.Control,{name:"username",type:"text",value:this.state.username,onChange:this.handleChange}),r.a.createElement("p",{className:"font-weight-light"}," ",this.state.errors.username," ")),r.a.createElement(g.a.Group,{controlId:"formRegisterPassword"},r.a.createElement(g.a.Label,null,"Your password"),r.a.createElement(g.a.Control,{name:"password",type:"password",value:this.state.password,onChange:this.handleChange}),r.a.createElement("p",{className:"font-weight-light"}," ",this.state.errors.password," "),r.a.createElement(g.a.Label,null,"Confirm your password"),r.a.createElement(g.a.Control,{name:"confirm_password",type:"password",value:this.state.confirm_password,onChange:this.handleChange}),r.a.createElement("p",{className:"font-weight-light"}," ",this.state.errors.confirm_password," ")),e,r.a.createElement("div",{align:"center",className:"mt-3 pt-3 btn-block"},r.a.createElement(f.a,{className:"col-md-8",variant:"primary",type:"submit"},"Register"),r.a.createElement(d.b,{to:"/login"},r.a.createElement(f.a,{className:"col-md-4 text-right",align:"right",variant:"link"},"Log in"))),r.a.createElement("br",null)),r.a.createElement("br",null))}}]),t}(r.a.Component),P=Object(p.g)(B),I=n(33),_=n(58),G=n(198),N=n(56),U=n(21),A=n.n(U),L=n(19),z=n(37),X=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).hasNullBrush=function(){return(n.props.timeRanges||[]).length>0&&null==n.props.timeRanges[n.props.timeRanges.length-1]},n.handleMouseClick=function(e,t){n.props.onTimeRangeClicked&&n.props.onTimeRangeClicked(t)},n.state={isBrushing:!1},n.handleBrushMouseDown=n.handleBrushMouseDown.bind(Object(N.a)(n)),n.handleOverlayMouseDown=n.handleOverlayMouseDown.bind(Object(N.a)(n)),n.handleHandleMouseDown=n.handleHandleMouseDown.bind(Object(N.a)(n)),n.handleMouseUp=n.handleMouseUp.bind(Object(N.a)(n)),n.handleMouseMove=n.handleMouseMove.bind(Object(N.a)(n)),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"viewport",value:function(){var e=this.props,t=e.width,n=e.timeScale,a=n.invert(0),r=n.invert(t);return new L.TimeRange(a,r)}},{key:"handleBrushMouseDown",value:function(e,t){e.preventDefault();var n=e.pageX,a=e.pageY,r=[Math.round(n),Math.round(a)],i=+this.props.timeRanges[t].begin(),s=+this.props.timeRanges[t].end();document.addEventListener("mouseup",this.handleMouseUp),this.setState({isBrushing:!0,brushingInitializationSite:"brush",initialBrushBeginTime:i,initialBrushEndTime:s,initialBrushXYPosition:r,brushIndex:t})}},{key:"handleOverlayMouseDown",value:function(e){if(this.props.allowFreeDrawing||this.hasNullBrush()){e.preventDefault();var t=Object(z.getElementOffset)(this.overlay),n=e.pageX-t.left,a=this.props.timeScale.invert(n).getTime();document.addEventListener("mouseup",this.handleMouseUp);var r=this.props.allowFreeDrawing?this.props.timeRanges.length:this.props.timeRanges.length-1;this.setState({isBrushing:!0,brushingInitializationSite:"overlay",initialBrushBeginTime:a,initialBrushEndTime:a,initialBrushXYPosition:null,brushIndex:r})}}},{key:"handleHandleMouseDown",value:function(e,t,n){e.preventDefault();var a=e.pageX,r=e.pageY,i=[Math.round(a),Math.round(r)],s=this.props.timeRanges[n].begin().getTime(),o=this.props.timeRanges[n].end().getTime();document.addEventListener("mouseover",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp),this.setState({isBrushing:!0,brushingInitializationSite:"handle-".concat(t),initialBrushBeginTime:s,initialBrushEndTime:o,initialBrushXYPosition:i,brushIndex:n})}},{key:"handleMouseUp",value:function(e){var t=this;e.preventDefault(),document.removeEventListener("mouseover",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp);var n=this.state.brushIndex;this.setState({isBrushing:!1,brushingInitializationSite:null,initialBrushBeginTime:null,initialBrushEndTime:null,initialBrushXYPosition:null,brushIndex:null},(function(){t.props.onUserMouseUp&&t.props.onUserMouseUp(n)}))}},{key:"handleMouseMove",value:function(e){e.preventDefault();var t=e.pageX,n=e.pageY,a=[Math.round(t),Math.round(n)],r=this.viewport();if(this.state.isBrushing){var i,s,o=this.state.initialBrushBeginTime,l=this.state.initialBrushEndTime;if("overlay"===this.state.brushingInitializationSite){var c=Object(z.getElementOffset)(this.overlay),u=e.pageX-c.left,h=this.props.timeScale.invert(u).getTime();h<o?(i=h<r.begin().getTime()?r.begin():h,s=o>r.end().getTime()?r.end():o):(i=o<r.begin().getTime()?r.begin():o,s=h>r.end().getTime()?r.end():h)}else{var d=this.state.initialBrushXYPosition,p=this.props.timeScale.invert(d[0]).getTime()-this.props.timeScale.invert(a[0]).getTime(),m=p,g=p;if(o-p<r.begin()&&(m=o-r.begin().getTime()),l-p>r.end()&&(g=l-r.end().getTime()),(i="brush"===this.state.brushingInitializationSite||"handle-left"===this.state.brushingInitializationSite?parseInt(o-m,10):o)>(s="brush"===this.state.brushingInitializationSite||"handle-right"===this.state.brushingInitializationSite?parseInt(l-g,10):l)){var f=[s,i];i=f[0],s=f[1]}}this.props.onTimeRangeChanged&&this.props.onTimeRangeChanged(new L.TimeRange(i,s),this.state.brushIndex)}}},{key:"renderOverlay",value:function(){var e,t=this,n=this.props,a=n.width,i=n.height;switch(this.state.brushingInitializationSite){case"handle-right":case"handle-left":e="ew-resize";break;case"brush":e="move";break;default:e=this.props.allowFreeDrawing||this.hasNullBrush()?"crosshair":"default"}var s={fill:"white",opacity:0,cursor:e};return r.a.createElement("rect",{ref:function(e){t.overlay=e},x:0,y:0,width:a,height:i,style:s,onClick:this.handleMouseClick,onMouseDown:this.handleOverlayMouseDown,onMouseUp:this.handleMouseUp})}},{key:"renderBrush",value:function(e,t){var n,a=this,i=this.props,s=i.timeScale,o=i.height;if(!e)return r.a.createElement("g",null);switch(this.state.brushingInitializationSite){case"handle-right":case"handle-left":n="ew-resize";break;case"overlay":n=this.props.allowFreeDrawing||this.hasNullBrush()?"crosshair":"default";break;default:n="move"}var l={fill:"#777",fillOpacity:.3,stroke:"#fff",shapeRendering:"crispEdges",cursor:n},c=this.props.style?this.props.style(t):{},u=A()(!0,l,c),h=this.props.text?this.props.text(t):"",d=this.props.textStyle?this.props.textStyle(t):{};if(!this.viewport().disjoint(e)){var p=e.intersection(this.viewport()),m=p.begin(),g=p.end(),f=[s(m),0],v=f[0],b=f[1],E=s(g)-v;E<1&&(E=1);var w={x:v,y:b,width:E,height:o};return r.a.createElement("g",{key:"".concat(t,"-").concat(u,"-").concat(h),pointerEvents:"all",onClick:function(e){return a.handleMouseClick(e,t)},onMouseDown:function(e){return a.handleBrushMouseDown(e,t)},onMouseUp:this.handleMouseUp},r.a.createElement("rect",Object.assign({},w,{style:u})),r.a.createElement("text",Object.assign({},d,{x:w.x+w.width/2-24,y:w.y+w.height/2+24}),h))}return r.a.createElement("g",null)}},{key:"renderHandles",value:function(e,t){var n=this,a=this.props,i=a.timeScale,s=a.height;if(!e)return r.a.createElement("g",null);var o={fill:"white",opacity:0,cursor:"ew-resize"};if(!this.viewport().disjoint(e)){var l=e.intersection(this.viewport()).toJSON(),c=Object(G.a)(l,2),u=c[0],h=c[1],d=[i(u),0],p=d[0],m=d[1],g=i(h)-p;g<1&&(g=1);var f=this.props.handleSize,v={x:p-1,y:m,width:f,height:s},b={x:p+(g-f),y:m,width:f+1,height:s};return r.a.createElement("g",null,r.a.createElement("rect",Object.assign({},v,{style:o,pointerEvents:"all",onMouseDown:function(e){return n.handleHandleMouseDown(e,"left",t)},onMouseUp:this.handleMouseUp})),r.a.createElement("rect",Object.assign({},b,{style:o,pointerEvents:"all",onMouseDown:function(e){return n.handleHandleMouseDown(e,"right",t)},onMouseUp:this.handleMouseUp})))}return r.a.createElement("g",null)}},{key:"render",value:function(){var e=this;return r.a.createElement("g",{onMouseMove:this.handleMouseMove},this.renderOverlay(),(this.props.timeRanges||[]).map((function(t,n){return r.a.createElement("g",{key:"multibrush_".concat(n)},e.renderBrush(t,n),e.renderHandles(t,n))})))}}]),t}(r.a.Component);X.defaultProps={handleSize:6,allowFreeDrawing:!0};var F=Object(_.styler)([{key:"in",color:"#C8D5B8"},{key:"out",color:"#9BB8D7"}]),Y=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=(this.props.tracker&&"".concat(this.props.tracker),Object(I.format)(".4s"));return r.a.createElement("div",null,r.a.createElement("hr",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},this.props.tracker?r.a.createElement("div",{style:{position:"relative"}},r.a.createElement("div",{style:{position:"absolute",left:this.props.trackerX}},r.a.createElement("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.8)",color:"#AAA",marginLeft:"5px"}},"Data In: ",t(this.props.trackerEventIn.get("in"))))):null,r.a.createElement(_.Resizable,null,r.a.createElement(_.ChartContainer,{timeRange:this.props.timerange,format:"year",trackerPosition:this.props.tracker,onTrackerChanged:this.props.handleTrackerChanged,enablePanZoom:!1,maxTime:this.props.timerange.end(),minTime:this.props.timerange.begin(),minDuration:36e5,onBackgroundClick:this.props.onBackgroundClick,onTimeRangeChanged:this.props.handleTimeRangeChange},r.a.createElement(_.ChartRow,{height:"250",debug:!1},r.a.createElement(_.Charts,null,r.a.createElement(_.LineChart,{axis:"traffic",series:this.props.data,columns:["in"],style:F}),r.a.createElement(X,{timeRanges:this.props.selections,style:function(t){return t===e.props.selected?{fill:"#46abff"}:{fill:"#cccccc"}},text:function(t){return e.props.getText?e.props.getText(t):""},textStyle:function(t){return e.props.getTextStyle?e.props.getTextStyle(t):{}},allowSelectionClear:!0,onTimeRangeChanged:this.props.handleSelectionChange,onTimeRangeClicked:this.props.onTimeRangeClicked})),r.a.createElement(_.YAxis,{id:"traffic",label:"Traffic (bps)",labelOffset:0,min:this.props.minSignal,max:this.props.maxSignal,absolute:!0,width:"60",type:"linear"})))))))}}]),t}(r.a.Component),H=n(67),W=n.n(H),q=n(150);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(n,!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=3,Z=1,$=10,Q={0:"W",1:"NR",2:"R"},ee={w:"W",e:"NR",r:"R",W:"W",E:"NR",R:"R"};function te(e,t){return ne.apply(this,arguments)}function ne(){return(ne=Object(E.a)(b.a.mark((function e(t,n){var a,r,i,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e){return q.b(e,[1,5e3,2],"float32")}(n),r=t.predict(a).dataSync(),i=Array.from(r),s=Q[i.indexOf(W.a.max(i))],e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ae=function(e,t,n){var a=Math.floor((t-e)/n);return Array.apply(null,Array(n+1)).map((function(r,i){var s=parseInt(e+i*a),o=parseInt(e+(i+1)*a);return i===n?new L.TimeRange(s,t):new L.TimeRange(s,o)}))},re=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).getText=function(e){return null!=n.state.qualifications[e+n.state.offsetData]?n.state.qualifications[e+n.state.offsetData]:e===n.state.selected?n.state.prediction:void 0},n.getTextStyle=function(e){return null!=n.state.qualifications[e+n.state.offsetData]?{fill:"#0057c2",fontSize:48}:e===n.state.selected?{fill:"#bf9300",fontSize:48}:void 0},n.handleTrackerChanged=function(e,t){n.setState({tracker:e,trackerEventIn_EEG:e&&n.state.EEG.at(n.state.EEG.bisect(e)),trackerEventIn_EMG:e&&n.state.EMG.at(n.state.EMG.bisect(e)),trackerEventOut_EEG:e&&n.state.EEG.at(n.state.EEG.bisect(e)),trackerEventOut_EMG:e&&n.state.EMG.at(n.state.EMG.bisect(e)),trackerX:e&&t(e)})},n.handleTimeRangeChange=function(e){n.setState({timerange:e})},n.handleSelectionChange=function(e,t){},n.onBackgroundClick=function(){n.setState({selection:null,prediction:null})},n.onTimeRangeClicked=function(e){var t=e%V;n.getPrediction(n.state.offsetData+t).then((function(e){n.setState({selected:t,prediction:e})}))},n.getPrediction=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=n.props.edf.getPhysicalSignalConcatRecords(0,e*$,$),r=n.props.edf.getPhysicalSignalConcatRecords(1,e*$,$),i=Array.from(a).concat(Array.from(r));return t||(t=n.state.model),te(t,Float32Array.from(i))},n.edfParser=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=n.props.edf;if(t){var a=t.getNumberOfRecords(),r=(t.getRawSignal(0,0).length,t.getRawSignal(0,a-1).length,t.getRecordDuration()),i=t.getRecordingStartDate().getTime(),s=t.getPhysicalSignalConcatRecords(0,e*$,V*$),o=1,l=(W.a.map(s.slice(0,10),(function(t,n){return i+o*(n+e*$)*r*1e3})),new L.TimeSeries({name:"EEG",columns:["time","in"],points:W.a.map(s,(function(t,n){return[parseInt(i+o*(n+e*$)*r*100),t]}))})),c=t.getPhysicalSignalConcatRecords(1,e*$,V*$),u=new L.TimeSeries({name:"EMG",columns:["time","in"],points:W.a.map(c,(function(t,n){return[parseInt(i+o*(n+e*$)*r*100),t]}))}),h=ae(l.timerange().toJSON()[0],l.timerange().toJSON()[1],V);return[l,u,h]}},n._handleKeyDown=function(e){var t=n.state.selected,a=n.state.offsetData,r=e.key,i=n.state.qualifications;switch(-1!==Object.keys(ee).indexOf(r)?(i=J({},i,Object(m.a)({},a+t,ee[e.key])),r="ArrowRight"):" "==r&&(i=J({},i,Object(m.a)({},a+t,n.state.prediction)),r="ArrowRight"),r){case"PageUp":a+=V;break;case"PageDown":a=a-V>0?a-V:0;break;case"ArrowRight":t<Z?t+=1:a+=1;break;case"ArrowLeft":a>0?a-=1:t>0&&(t-=1)}if(a!=n.state.offsetData){var s=n.edfParser(a),o=s[0],l=s[1],c=s[2];n.getPrediction(a+t).then((function(e){n.setState({EEG:o,EMG:l,offsetData:a,selected:t,timerange:o.range(),selections:c,qualifications:i,prediction:e})}))}else n.getPrediction(a+t).then((function(e){n.setState({selected:t,qualifications:i,prediction:e})}))},n.state={EEG:null,EMG:null,offsetData:0,tracker:null,timerange:null,selected:0,selections:null,qualifications:{},prediction:null,trackerEventIn_EEG:null,trackerEventIn_EMG:null,trackerEventOut_EEG:null,trackerEventOut_EMG:null,trackerX:null},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",W.a.debounce(this._handleKeyDown,50))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",W.a.debounce(this._handleKeyDown,50))}},{key:"componentDidUpdate",value:function(e,t){var n=this;if(null!=this.props.edf&&e.edf!==this.props.edf){var a=this.edfParser(0),r=a[0],i=a[1],s=a[2];q.a("https://raw.githubusercontent.com/AgileDS/autoscorer/model_dev/model/TF-js/1CNN-Model/model.json").then((function(e){n.getPrediction(0,e).then((function(t){n.setState({EEG:r,EMG:i,timerange:r.range(),selections:s,model:e,prediction:t})}))}))}}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.EEG?r.a.createElement(Y,{data:this.state.EEG,timerange:this.state.timerange,selected:this.state.selected,selections:this.state.selections,handleTrackerChanged:this.handleTrackerChanged,handleTimeRangeChange:this.handleTimeRangeChange,handleSelectionChange:this.handleSelectionChange,onBackgroundClick:this.onBackgroundClick,onTimeRangeClicked:this.onTimeRangeClicked,maxSignal:800,minSignal:-800,getText:this.getText,getTextStyle:this.getTextStyle}):null,this.state.EMG?r.a.createElement(Y,{data:this.state.EMG,timerange:this.state.timerange,selected:this.state.selected,selections:this.state.selections,handleTrackerChanged:this.handleTrackerChanged,handleTimeRangeChange:this.handleTimeRangeChange,handleSelectionChange:this.handleSelectionChange,onBackgroundClick:this.onBackgroundClick,onTimeRangeClicked:this.onTimeRangeClicked,maxSignal:6e3,minSignal:-6e3,getText:this.getText,getTextStyle:this.getTextStyle}):null)}}]),t}(r.a.Component),ie=(n(342),n(149)),se=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(e){return r.a.createElement("div",null,r.a.createElement("input",{type:"file",onChange:this.setFile.bind(this),accept:".edf"}))}},{key:"postFile",value:function(e){}},{key:"setFile",value:function(e){var t=this,n=e.target.files[0];new ie.EdfDecoder;if(null!=n){var a=new FileReader;a.onloadend=function(){var e=new ie.EdfDecoder,n=a.result;e.setInput(n),e.decode(),t.props.handleData(e.getOutput())},a.readAsArrayBuffer(n)}}}]),t}(r.a.Component),oe=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={edf:null},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(d.a,{basename:"/"},r.a.createElement("div",null,r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/"},r.a.createElement(p.a,{to:"/login"})),r.a.createElement(p.b,{path:"/login"},r.a.createElement(x,null)),r.a.createElement(p.b,{path:"/dashboard"},this.state.edf?null:r.a.createElement(se,{handleData:function(t){e.setState({edf:t})}}),r.a.createElement(re,{edf:this.state.edf})),r.a.createElement(p.b,{path:"/register"},r.a.createElement(P,null)))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(oe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[199,1,2]]]);
//# sourceMappingURL=main.a9370ce8.chunk.js.map